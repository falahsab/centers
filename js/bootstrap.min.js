const accordions = document.querySelectorAll(".accordion");
const panels = document.querySelectorAll(".panel");

accordions.forEach((accordion, index) => {
  accordion.addEventListener("click", () => {
    accordions.forEach((acc, i) => {
      if (i === index) {
        acc.classList.toggle("active");
      } else {
        acc.classList.remove("active");
      }
    });

    panels.forEach((panel, i) => {
      if (i === index) {
        if (panel.style.maxHeight) {
          panel.style.maxHeight = null;
          panel.classList.remove("show");
        } else {
          panel.style.maxHeight = panel.scrollHeight + "px";
          panel.classList.add("show");
        }
      } else {
        panel.style.maxHeight = null;
        panel.classList.remove("show");
      }
    });
  });
});

// عند الضغط على المحتوى نفسه يغلق
panels.forEach(panel => {
  panel.addEventListener("click", () => {
    panel.style.maxHeight = null;
    panel.classList.remove("show");
    accordions.forEach(acc => acc.classList.remove("active"));
  });
});
